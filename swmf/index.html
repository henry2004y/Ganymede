<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/Ganymede/libs/highlight/github.min.css"> <link rel=stylesheet  href="/Ganymede/css/franklin.css"> <link rel=stylesheet  href="/Ganymede/css/poole_hyde.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/Ganymede/assets/favicon.png"> <title>Run in Action</title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <h1><a href="/Ganymede/">CSEM</a></h1> <p class=lead >Our attempts to understand nature.</p> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/Ganymede/">Home</a> <a class="sidebar-nav-item " href="/Ganymede/log_ganymede/">Log</a> <a class="sidebar-nav-item " href="/Ganymede/simulations_ganymede/">OverView</a> <a class="sidebar-nav-item " href="/Ganymede/extra/">Extra</a> <a class="sidebar-nav-item " href="/Ganymede/galileo/">Observation</a> <a class="sidebar-nav-item active" href="/Ganymede/swmf/">Run in Action</a> <a class="sidebar-nav-item " href="/Ganymede/ulfwaves/">ULF Waves</a> <a class="sidebar-nav-item " href="/Ganymede/shocks/">Shocks</a> </nav> <p>&copy; Hongyang Zhou.</p> </div> </div> <div class="content container"> <div class=franklin-content ><h1 id=how_to_run_the_swmf_model ><a href="#how_to_run_the_swmf_model" class=header-anchor >How to run the SWMF model</a></h1> <p>Even though I have been working with SWMF for five years, I will forget how to use it after leaving it for a while or the latest development introduce some breaking changes to the setups. This manual serves as a reference for myself and also other interesting researchers on how to reproduce the simulation.</p> <p>The installation is thoroughly described in the official document. The following assumes you have a basic understanding of running a model in SWMF.</p> <p>In principle, the GM module can run alone without compiling the PC module until the coupling is required. However in practice I recommend run with the coupled executable from start to prevent further work in changing the parameter file at a later stage.</p> <p>After SWMF is successfully installed, </p> <pre><code class="julia hljs">./Config.pl -v=Empty,PC/FLEKS,GM/BATSRUS -amrex
./Config.pl -o=GM:g=<span class=hljs-number >8</span>,<span class=hljs-number >8</span>,<span class=hljs-number >8</span>,ng=<span class=hljs-number >2</span>,u=Ganymede,e=MhdHypPe</code></pre> <p>If the syntaxes change in the future, you can check how it is configured in <code>Makefile.test</code>.</p> <p>The run can be split into multiple stages:</p> <ul> <li><p>steady state ideal MHD</p> <li><p>quasi-steady state Hall MHD</p> <li><p>time-accurate &#40;time-dependent&#41; Hall MHD</p> <li><p>time-accurate &#40;time-dependent&#41; MHD-EPIC</p> </ul> <p>It is not necessary to strictly follow this order: we do this only to speed things up assuming that the same solution will be reached given the same initial and boundary condition, no matter which timestepping mode or which numerical model is chosen in the intermediate stages. The validity of this statement is hard to prove mathematically, but based on practical experience it generally works pretty well. An analogy to this would be the steady state in a Markov chain: you are guaranteed to stay in the steady state once you reach it, but it is not guaranteed that you will reach the steady state from an arbirary state, even though for many cases it does.</p> <h2 id=steady_state_ideal_mhd ><a href="#steady_state_ideal_mhd" class=header-anchor >Steady State Ideal MHD</a></h2> <pre><code class="julia hljs">Name     Root Last Stride
<span class=hljs-comment >#LAYOUT</span>
GM       <span class=hljs-number >0</span>    <span class=hljs-number >99999</span>   <span class=hljs-number >1</span>
PC       <span class=hljs-number >0</span>    <span class=hljs-number >99999</span>   <span class=hljs-number >1</span>

<span class=hljs-comment >#PLANET</span>
Ganymede                NamePlanet
<span class=hljs-number >2634000</span>                 RadiusPlanet [m]
<span class=hljs-number >1.4819E+23</span>              MassPlanet   [kg]
<span class=hljs-number >0.0</span>                     OmegaPlanet  [radian/s]
<span class=hljs-number >0.0</span>                     TiltRotation [degree]
DIPOLE                  TypeBField
<span class=hljs-number >4.</span>                      MagAxisThetaGeo [degree]
<span class=hljs-number >291.05</span>                  MagAxisPhiGeo   [degree]
-<span class=hljs-number >718.55E-9</span>              DipoleStrength  [T]

<span class=hljs-comment >#ROTATION</span>
F                       UseRotation

<span class=hljs-comment >#TIMEACCURATE</span>
F                       DoTimeAccurate

<span class=hljs-comment >#SAVERESTART</span>
T                       DoSaveRestart
<span class=hljs-number >2000</span>                    DnSaveRestart
-<span class=hljs-number >1.0</span>                    DtSaveRestart


! Restart header <span class=hljs-keyword >for</span> SWMF
INCLUDE
RESTART.<span class=hljs-keyword >in</span>              NameRestartFile

<span class=hljs-comment >#CPUTIMEMAX</span>
<span class=hljs-number >20000.0</span>                 CpuTimeMax

<span class=hljs-comment >#CHECKSTOP</span>
T                       DoCheckStop
<span class=hljs-number >1000</span>                    DnCheckStop
-<span class=hljs-number >1.0</span>                    DtCheckStop

<span class=hljs-comment >#PROGRESS</span>
<span class=hljs-number >200</span>                     DnShowProgressShort
<span class=hljs-number >2000</span>                    DnShowProgressLong

<span class=hljs-comment >#COMPONENT</span>
PC                      NameComp
F                       UseComp

<span class=hljs-comment >#BEGIN_COMP GM --------------------------------------------------------------</span>

! Restart header <span class=hljs-keyword >for</span> GM
INCLUDE
GM/restartIN/restart.H

<span class=hljs-comment >#HYPERBOLICDIVB</span>
T                       UseHyperbolicDivb
<span class=hljs-number >150.0</span>                   SpeedHypDim
<span class=hljs-number >0.1</span>                     HypDecay

<span class=hljs-comment >#COORDSYSTEM</span>
GSE                     TypeCoordinate

<span class=hljs-comment >#BODY</span>
T                       UseBody
<span class=hljs-number >0.5</span>                     rBody      [rPlanet]
<span class=hljs-number >3.5</span>                     rCurrents  [rPlanet]
<span class=hljs-number >39</span>                      BodyNDim   [/cc]
<span class=hljs-number >2.32e5</span>                  BodyTDim   [K]

<span class=hljs-comment >#BODY</span>
F

<span class=hljs-comment >#PLASMA</span>
<span class=hljs-number >14.0</span>                    FluidMass [amu]
<span class=hljs-number >1.0</span>                     AverageIonCharge [e]
<span class=hljs-number >1.0</span>/<span class=hljs-number >18.0</span>                ElectronTemperatureRatio

<span class=hljs-comment >#SEMIKRYLOV</span>
GMRES                   TypeKrylov  (GMRES, BICGSTAB, CG)
<span class=hljs-number >0.001</span>                   ErrorMaxKrylov
<span class=hljs-number >100</span>                     MaxMatvecKrylov

<span class=hljs-comment >#MINIMUMPRESSURE</span>
<span class=hljs-number >0.001</span>                   pMinDim
<span class=hljs-number >0.001</span>                   PeMinDim <span class=hljs-keyword >for</span> electron pressure

<span class=hljs-comment >#MINIMUMDENSITY</span>
<span class=hljs-number >0.1</span>                     RhoMinDim

<span class=hljs-comment >#NONCONSERVATIVE</span>
F                       UseNonConservative

<span class=hljs-comment >#CONSERVATIVECRITERIA</span>
<span class=hljs-number >0</span>                       nConservCrit

<span class=hljs-comment >#RESTARTOUTFILE</span>
one                     TypeRestartOutFile

grid structure---------------------------------------------------------------
<span class=hljs-comment >#GRIDGEOMETRY</span>
spherical_lnr           TypeGeometry

<span class=hljs-comment >#GRIDBLOCKALL</span>
<span class=hljs-number >56000</span>

<span class=hljs-comment >#GRID</span>
<span class=hljs-number >10</span>                       nRootBlockX
<span class=hljs-number >8</span>                        nRootBlockY
<span class=hljs-number >8</span>                        nRootBlockZ
-<span class=hljs-number >100</span>                     xMin
 <span class=hljs-number >100</span>                     xMax
-<span class=hljs-number >100</span>                     yMin
 <span class=hljs-number >100</span>                     yMax
-<span class=hljs-number >100</span>                     zMin
 <span class=hljs-number >100</span>                     zMax

<span class=hljs-comment >#LIMITRADIUS</span>
<span class=hljs-number >0.5</span>                     rMin
<span class=hljs-number >174.0</span>                   rMax &gt; (sqrt(<span class=hljs-number >100</span>^<span class=hljs-number >2</span>+<span class=hljs-number >100</span>^<span class=hljs-number >2</span>+<span class=hljs-number >100</span>^<span class=hljs-number >2</span>))

<span class=hljs-comment >#GRIDLEVEL</span>
<span class=hljs-number >3</span>                       nLevelArea
initial                 NameArea

<span class=hljs-comment >#GRIDLEVEL</span>
<span class=hljs-number >3</span>                       nLevelArea
box_gen                 TypeRegion
<span class=hljs-number >1.1</span>                     rmin            xMinBox
<span class=hljs-number >0.0</span>                     LonMin          yMinBox
-<span class=hljs-number >65.0</span>                   LatMin          zMinBox
<span class=hljs-number >3.0</span>                     rmax            xMaxBox
<span class=hljs-number >360.0</span>                   LonMax          yMaxBox
<span class=hljs-number >65.0</span>                    LatMax          zMaxBox

<span class=hljs-comment >#GRIDLEVEL</span>
<span class=hljs-number >1</span>                       nLevelArea
box_gen                 TypeRegion
<span class=hljs-number >5.0</span>                     rmin
-<span class=hljs-number >70.0</span>                   LonMin
<span class=hljs-number >35.0</span>                    LatMin
<span class=hljs-number >15.0</span>                    rmax
<span class=hljs-number >70.0</span>                    LonMax
<span class=hljs-number >65.0</span>                    Latmax

<span class=hljs-comment >#GRIDLEVEL</span>
<span class=hljs-number >1</span>                       nLevelArea
box_gen                 TypeRegion
<span class=hljs-number >5.0</span>                     rmin
-<span class=hljs-number >70.0</span>                   LonMin
-<span class=hljs-number >35.0</span>                   LatMin
<span class=hljs-number >15.0</span>                    rmax
<span class=hljs-number >70.0</span>                    LonMax
-<span class=hljs-number >65.0</span>                   LatMax

<span class=hljs-keyword >end</span> grid structure-----------------------------------------------------------

BC---------------------------------------------------------------------------
<span class=hljs-comment >#OUTERBOUNDARY</span>
fixedb1                 TypeCellBc1
none                    TypeCellBc2
periodic                TypeCellBc3
periodic                TypeCellBc4
periodic                TypeCellBc5
periodic                TypeCellBc6

<span class=hljs-comment >#BOXBOUNDARY</span>
fixed                   TypeBcXmin
fixed                   TypeBcXmax
float                   TypeBcYmin
float                   TypeBcYmax
float                   TypeBcZmin
float                   TypeBcZmax

<span class=hljs-comment >#BOUNDARYSTATE</span>
coord1max xminbox xmaxbox         StringBoundary
<span class=hljs-number >56.0</span>                    BoundaryStateDim_V Rho
<span class=hljs-number >140.0</span>                   BoundaryStateDim_V Ux
<span class=hljs-number >0.0</span>                     BoundaryStateDim_V Uy
<span class=hljs-number >0.0</span>                     BoundaryStateDim_V Uz
-<span class=hljs-number >10.0</span>                   BoundaryStateDim_V Bx
-<span class=hljs-number >6.0</span>                    BoundaryStateDim_V By
-<span class=hljs-number >86.0</span>                   BoundaryStateDim_V Bz
<span class=hljs-number >0.0</span>                     BoundaryStateDim_V Hyp
<span class=hljs-number >0.2</span>                     BoundaryStateDim_V Pe
<span class=hljs-number >3.6</span>                     BoundaryStateDim_V p

<span class=hljs-comment >#SOLIDSTATE</span>
T                       UseSolidState
user                    TypeBcSolid
sphere                  TypeSolidGeometry
<span class=hljs-number >1.0</span>                     rSolid
<span class=hljs-number >5e-3</span>                    SolidLimitDt

<span class=hljs-keyword >end</span> BC-----------------------------------------------------------------------

<span class=hljs-comment >#RESISTIVITY</span>
T                       UseResistivity
user                    TypeResistivity
<span class=hljs-number >0.0</span>                     Eta0Si

<span class=hljs-comment >#USERSWITCH</span>
+init +ic +source       StringSwitch

<span class=hljs-comment >#USERINPUTBEGIN -------------------------------------------------------------</span>

<span class=hljs-comment >#INITTYPE</span>
B1U1

<span class=hljs-comment >#RESISTIVEPLANET</span>
<span class=hljs-number >5</span>                       nResistivePoints
<span class=hljs-number >1.05</span>                    Radius
<span class=hljs-number >0.0</span>                     Resistivity
<span class=hljs-number >0.95</span>                    Radius
<span class=hljs-number >6e11</span>                    Resistivity
<span class=hljs-number >0.7</span>                     Radius
<span class=hljs-number >6e11</span>                    Resistivity
<span class=hljs-number >0.65</span>                    Radius
<span class=hljs-number >6e9</span>                     Resistivity
<span class=hljs-number >0.55</span>                    Radius
<span class=hljs-number >0.0</span>                     Resistivity

<span class=hljs-comment >#MASSLOADING</span>
<span class=hljs-number >8.0e6</span>                   NeutralDensity (cm^-<span class=hljs-number >3</span>)
<span class=hljs-number >250</span>                     ScaleHeight (km)
<span class=hljs-number >2.2e-8</span>                  IonizationRate (<span class=hljs-number >1</span>/s)
<span class=hljs-number >2e-15</span>                   CollisionCrossSection (cm2)

<span class=hljs-comment >#SOLIDBOUNDARY</span>
<span class=hljs-number >3</span>

<span class=hljs-comment >#USERINPUTEND --------------------------------------------------------------</span>

<span class=hljs-comment >#TIMESTEPPING</span>
<span class=hljs-number >2</span>                       nStage
<span class=hljs-number >0.8</span>                     CflExlp

<span class=hljs-comment >#SCHEME</span>
<span class=hljs-number >2</span>                       nOrder (<span class=hljs-number >1</span> or <span class=hljs-number >2</span>)
Sokolov                 TypeFlux (Roe, Rusanov, Linde, Sokolov)
mc3                     TypeLimiter
<span class=hljs-number >1.2</span>                     LimiterBeta

<span class=hljs-comment >#SEMIIMPLICIT</span>
T                       UseSemiImplicit
resistivity             TypeSemiImplicit

<span class=hljs-comment >#COARSEAXIS</span>
T
<span class=hljs-number >1</span>

<span class=hljs-comment >#SAVEINITIAL</span>
F

<span class=hljs-comment >#SAVELOGFILE</span>
T                       DoSaveLogfile
RAW                     StringLogfile
<span class=hljs-number >1</span>                       DnSaveLogfile
-<span class=hljs-number >1.</span>                     DtSaveLogfile

<span class=hljs-comment >#SAVETECBINARY</span>
T                       DoSaveTecBinary

<span class=hljs-comment >#SAVEPLOT</span>
<span class=hljs-number >3</span>                       nPlotFiles
y=<span class=hljs-number >0</span> VAR idl             StringPlot
<span class=hljs-number >5000</span>                    DnSavePlot
-<span class=hljs-number >1.</span>                     DtSavePlot
-<span class=hljs-number >1.</span>                     Dx
{MHD} b1x b1y b1z divb eta              NameVars
box VAR idl             StringPlot
<span class=hljs-number >10000</span>                   DnSavePlot
-<span class=hljs-number >1.</span>                     DtSavePlot
GSE                     TypeCoord
-<span class=hljs-number >1.29</span>                   x0
<span class=hljs-number >0.74</span>                    y0
<span class=hljs-number >0.7225</span>                  z0
<span class=hljs-number >0.57</span>                    xLen
<span class=hljs-number >1</span>/<span class=hljs-number >32</span>                    dX
<span class=hljs-number >8.832</span>                   yLen
<span class=hljs-number >1</span>/<span class=hljs-number >32</span>                    dY
<span class=hljs-number >0.147</span>                   zLen
<span class=hljs-number >1</span>/<span class=hljs-number >32</span>                    dZ
<span class=hljs-number >0.</span>                      xAngle
<span class=hljs-number >0.</span>                      yAngle
<span class=hljs-number >0.</span>                      zAngle
bx by bz                NameVars
{default}               NamePars
<span class=hljs-number >3</span>d MHD tcp              StringPlot
<span class=hljs-number >50000</span>                   DnSavePlot
-<span class=hljs-number >1.0</span>                    DxSavePlot

<span class=hljs-comment >#END_COMP GM --------------------------------------------------------------</span>

<span class=hljs-comment >#STOP</span>
<span class=hljs-number >30000</span>                   MaxIteration
-<span class=hljs-number >1.0</span></code></pre> <p>There are several things worth noticing here:</p> <ul> <li><p>Since <code>DoTimeAccurate &#61; F</code>, all the corresponding time check parameters must switch to <code>Dn</code> but not <code>Dt</code>, i.e. parameters with <code>Dt</code> prefix must be negative and parameters with <code>Dn</code> prefix must be positive integers. This affects the restart control commands <code>SAVERESTART</code>,<code>CHECKSTOP</code> as well as output command <code>SAVEPLOT</code>.</p> <li><p><code>CPUTIMEMAX</code> and <code>CHECKSTOP</code> together controls the running time, and may cause the simulation to stop gracefully before the time you request in a job.</p> <li><p>The <code>BODY</code> command is first turned on and then off to set the <code>rBody</code>. It will be recorded as a parameter in the output file that may be useful for plotting, but it won&#39;t affect anything in the simulation.</p> <li><p>The <code>PLASMA</code> command sets the average mass for the single fluid model, and the initial electron-ion temerature ratio that may change later as a function of time.</p> <li><p>The <code>SEMIKRYLOV</code> command sets the parameters for the semi-implicit solver. There is a similar command <code>KRYLOV</code> with identical input arguments for setting parameters for the full implicit solver.</p> <li><p><code>MINIMUMPRESSURE</code> and <code>MINIMUMDENSITY</code> are used to avoid small discrete timesteps, which is a common trick in MHD and hybrid models. Physically, if the plasma density goes really low, the fluid description may fail to accurately represent the charged particles, which is my explanation of justifying these seemingly arbitrary thresholds. Having one uniform model to describe phenonemon across a wide range of scales is an impossible mission.</p> <li><p>Conservative vs. non-Conservative scheme: the former may be better at resolving shocks and discontinuities, as it follows the same path as the classical RH relation. This is not a critical factor.</p> <li><p>The <code>GRIDBLOCKALL</code> is a useful command for specifying the total number of blocks in the simulation for preallocating memory on each MPI process. There is a default value but it may just waste memory for your grid setup. Unfortunately it is not practical to know the total number of blocks before you run the model. What I usually do is first run the model once to get the total number of block counts, and then set this number slightly larger than that accordingly.</p> <li><p>The <code>GRIDLEVEL</code> command is used for setting AMR. One important control factor lies in the <code>initial</code> NameArea: the number listed here is the maximum level of AMR you can get, no matter what you specify later in each TypeRegion.</p> <li><p>It takes time for one to get used to the boundary settings. The official document of BATSRUS or <code>PARAM.XML</code> provides a detailed description of how these commands work together.</p> <li><p>The <code>SOLIDSTATE</code> command is a trick to solve only the magnetic diffusion-like equation in the mantle region. It looks pretty ugly in the code, so it is likely that this fragile part will potentially break in the future. Here in the steady state run, the useful parameter is <code>SolidLimitDt</code>, which provides a fixed timestep for the mantle cells for updating the magnetic field. The value listed here is only from experience, which tries to be close to the timestep in the MHD domain cell with 2 levels of refinement as prescribed with the above AMR settings right next to the surface. In the time dependent run, this parameter doesn&#39;t have an effect.</p> <li><p>In the <code>RESISTIVITY</code> command, we specify the <code>user</code> type resistivity, which is implemented in <code>user_set_resistivity</code>.</p> <li><p>There are several customized input arguments specified in <code>ModUserGanymede</code>.</p> <ul> <li><p><code>INITTYPE</code> gives the initial settings for B and U;</p> <li><p><code>RESISTIVEPLANET</code> sets a fixed resistivity profile as a function of planet radius;</p> <li><p><code>MASSLOADING</code> sets the parameters related to the ionospheric inner boundary I was testing before AGU2020. Details can be found in other pages;</p> <li><p><code>SOLIDBOUNDARY</code> sets the B, U, P values at the moon&#39;s surface. Definitely I cannot tell what 3 means even I wrote it myself...</p> </ul> <li><p><code>COARSEAXIS</code> may help to overcome the tiny timestep issue at the polar cells. 1 means merge 2 cells into 1 in terms of updating.</p> <li><p><code>SAVEINITIAL</code> determines whether or not to output at the beginning of the run. I set to false often because during restarts we don&#39;t need to save the same snapshot once again.</p> <li><p>In the <code>SAVEPLOT</code> command, several things may go wrong:</p> <ul> <li><p>The first number, <code>nPlotFiles</code>, specifies how many output files there will be. It happens many time that I write a number smaller than the actual number of outputs I list afterwards so that some files are missing.</p> <li><p>The box output is what I used to plot the G8 magnetic field comparisons. Saving it within a box has the advantage of shifting it slightly to get potentially better comparison. However, I think this is no longer necessary, so the <code>SATELLITEFILE</code> command may be a better substitution.</p> </ul> </ul> <h2 id=steady_state_hall_mhd ><a href="#steady_state_hall_mhd" class=header-anchor >Steady State Hall MHD</a></h2> <p>It is allowed to have multiple sessions in one PARAM.in file, separated with the <code>#RUN</code> command. After the local timestepping ideal MHD is finished, what I would do is to create another input file with the following added to the end to the previous PARAM.in: </p> <pre><code class="julia hljs"><span class=hljs-comment >#STOP</span>
<span class=hljs-number >1</span>                       MaxIteration
-<span class=hljs-number >1.0</span>                    tSimulationMax

<span class=hljs-comment >#RUN</span>

<span class=hljs-comment >#BEGIN_COMP GM ------------------------------------------------------------</span>

<span class=hljs-comment >#HALLRESISTIVITY</span>
T                       UseHallResist (rest of parameters read only <span class=hljs-keyword >if</span> <span class=hljs-literal >true</span>)
<span class=hljs-number >1.0</span>                     HallFactorMax
<span class=hljs-number >0.1</span>                     HallCmaxFactor

<span class=hljs-comment >#HALLREGION</span>
+hallbox -hallsphere -polars
<span class=hljs-number >0</span>

<span class=hljs-comment >#REGION</span>
hallbox                 NameRegion
box tapered             NameHallRegion
-<span class=hljs-number >4</span>                      xMinBox
-<span class=hljs-number >4</span>                      yMinBox
-<span class=hljs-number >4</span>                      zMinBox
<span class=hljs-number >4</span>                       xMaxBox
<span class=hljs-number >4</span>                       yMaxBox
<span class=hljs-number >4</span>                       zMaxBox
<span class=hljs-number >0.5</span>                     Taper

<span class=hljs-comment >#REGION</span>
hallsphere              NameRegion
sphere0 tapered         StringShape
<span class=hljs-number >1.05</span>                    Radius
<span class=hljs-number >0.05</span>                    Taper

<span class=hljs-comment >#REGION</span>
polars                  NameRegion
doubleconez0 tapered    StringShape
<span class=hljs-number >12</span>                      Height
<span class=hljs-number >2.0</span>                     Radius
<span class=hljs-number >0.2</span>                     Taper

<span class=hljs-comment >#END_COMP GM --------------------------------------------------------------</span>

<span class=hljs-comment >#STOP</span>
<span class=hljs-number >30000</span>                   MaxIteration
-<span class=hljs-number >1.0</span>                    tSimulationMax</code></pre> <p>Also, remember to turn on the two <code>INCLUDE</code> commands, one for obtaining the restart files for SWMF, the other for GM.</p> <ul> <li><p>A <code>STOP</code> command is required at the end of the ideal MHD session due to an unknown bug related to restart in Hall MHD local timestepping mode. Hopefully someone will solve this in the future.</p> <li><p>Usually 30000 steps is more than enough for the transition.</p> </ul> <p>To link the restart files,</p> <pre><code class="shell hljs">./Restart.pl</code></pre>
<p>if you haven&#39;t postprocessed the previous run into another folder. If you have already done <code>./PostProc.pl RESULT/run_ideal</code>, then instead</p>
<pre><code class="shell hljs">./Restart.pl -i RESULT/run_ideal</code></pre>
<h2 id=time-accurate_hall_mhd ><a href="#time-accurate_hall_mhd" class=header-anchor >Time-accurate Hall MHD</a></h2>
<p>Just change all the forementioned <code>Dn</code>, <code>Dt</code> parameters together with <code>TIMEACCURATE</code>.</p>
<h2 id=time-accurate_mhd-epic ><a href="#time-accurate_mhd-epic" class=header-anchor >time-accurate MHD-EPIC</a></h2>
<p>There are a bunch of new commands for coupling with PIC.</p>
<div class=page-foot >
  <div class=copyright >
    &copy; Hongyang Zhou. Last modified: December 02, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
  </div>
</div>
</div>
    </div>